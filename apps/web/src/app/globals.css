@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-background: #ffffff;
  --color-foreground: #111827;
  --color-card: #ffffff;
  --color-card-foreground: #111827;
  --color-muted: #f3f4f6;
  --color-muted-foreground: #6b7280;
  --color-border: #e5e7eb;
  --color-input: #e5e7eb;
  --color-ring: #3b82f6;

  --color-primary-50: #eff6ff;
  --color-primary-100: #dbeafe;
  --color-primary-200: #bfdbfe;
  --color-primary-300: #93c5fd;
  --color-primary-400: #60a5fa;
  --color-primary-500: #3b82f6;
  --color-primary-600: #2563eb;
  --color-primary-700: #1d4ed8;
  --color-primary-800: #1e40af;
  --color-primary-900: #1e3a8a;
  --color-primary-950: #172554;
  --color-primary: #2563eb;
  --color-primary-foreground: #ffffff;

  --color-secondary: #f3f4f6;
  --color-secondary-foreground: #111827;

  --color-destructive: #dc2626;
  --color-destructive-foreground: #ffffff;

  --color-accent: #f3f4f6;
  --color-accent-foreground: #111827;
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: #e5e7eb;
  }
}

/* ============================================
   Component Layer - Reusable UI components
   ============================================ */
@utility btn {
  /* Buttons */
  @apply inline-flex items-center justify-center rounded-md px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:focus-visible:ring-offset-gray-900;
}
@utility btn-primary {
  @apply btn bg-primary-600 text-white hover:bg-primary-700 focus-visible:ring-primary-600;
}
@utility btn-secondary {
  @apply btn bg-gray-100 text-gray-900 hover:bg-gray-200 focus-visible:ring-gray-500 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600;
}
@utility btn-outline {
  @apply btn border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus-visible:ring-gray-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-200 dark:hover:bg-gray-700;
}
@utility btn-destructive {
  @apply btn bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-600;
}
@utility input {
  /* Form Inputs */
  @apply block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-xs focus:border-primary-500 focus:outline-hidden focus:ring-1 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100 dark:focus:border-primary-400 dark:focus:ring-primary-400;
  font-family: inherit;

  &::placeholder {
    @apply text-gray-400 dark:text-gray-500;
  }
}
@utility select {
  /* Select dropdowns */
  @apply block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-xs focus:border-primary-500 focus:outline-hidden focus:ring-1 focus:ring-primary-500 cursor-pointer dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100;
  font-family: inherit;
}
@utility label {
  /* Labels */
  @apply block text-sm font-medium mb-1 text-gray-700 dark:text-gray-300;
}
@utility textarea {
  /* Textarea */
  @apply block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm shadow-xs focus:border-primary-500 focus:outline-hidden focus:ring-1 focus:ring-primary-500 resize-none dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100;
  font-family: inherit;
}
@utility card {
  /* Cards */
  @apply rounded-lg border border-gray-200 bg-white shadow-xs dark:border-gray-700 dark:bg-gray-800;
}
@utility form-group {
  /* Form group helper */
  @apply space-y-1;

  & label {
    @apply block text-sm font-medium text-gray-700 dark:text-gray-300;
  }

  & input {
    @apply w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100;
    font-family: inherit;
  }

  & select {
    @apply w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100;
    font-family: inherit;
  }

  & textarea {
    @apply w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm dark:border-gray-600 dark:bg-gray-800 dark:text-gray-100;
    font-family: inherit;
  }

  & input:focus {
    @apply border-primary-500 outline-hidden ring-1 ring-primary-500 dark:border-primary-400 dark:ring-primary-400;
  }

  & select:focus {
    @apply border-primary-500 outline-hidden ring-1 ring-primary-500 dark:border-primary-400 dark:ring-primary-400;
  }

  & textarea:focus {
    @apply border-primary-500 outline-hidden ring-1 ring-primary-500 dark:border-primary-400 dark:ring-primary-400;
  }
}
@utility form-hint {
  /* Hint text below form fields */
  @apply text-xs mt-1 text-gray-500 dark:text-gray-400;
}
@utility form-error {
  /* Error text */
  @apply text-xs mt-1 text-red-600 dark:text-red-400;
}

@layer utilities {
  /* ============================================
   TrackDev Global Styles
   Light and Dark mode support
   ============================================ */

  :root {
    /* Light mode colors (default) */
    color-scheme: light;

    /* Base colors */
    --foreground: #111827;
    --background: #ffffff;
    --muted: #f3f4f6;
    --muted-foreground: #6b7280;
    --border: #e5e7eb;

    /* Card colors */
    --card: #ffffff;
    --card-foreground: #111827;

    /* Input colors */
    --input-bg: #ffffff;
    --input-border: #d1d5db;
    --input-text: #111827;
    --input-placeholder: #9ca3af;
  }

  /* Dark mode colors */
  .dark {
    color-scheme: dark;

    --foreground: #f9fafb;
    --background: #111827;
    --muted: #1f2937;
    --muted-foreground: #9ca3af;
    --border: #374151;

    /* Card colors */
    --card: #1f2937;
    --card-foreground: #f9fafb;

    /* Input colors */
    --input-bg: #1f2937;
    --input-border: #4b5563;
    --input-text: #f9fafb;
    --input-placeholder: #6b7280;
  }

  body {
    color: var(--foreground);
    background-color: var(--background);
    min-height: 100vh;
    transition:
      background-color 0.2s ease,
      color 0.2s ease;
  }

  /* ============================================
   Base Layer - Default element styles
   ============================================ */
}
@layer base {
  /* Default border color */
  * {
    @apply border-gray-200 dark:border-gray-700;
  }

  /* Ensure all text is visible by default */
  html {
    @apply text-gray-900 dark:text-gray-100;
  }

  /* Form elements */
  input,
  select,
  textarea {
    color: var(--input-text);
    background-color: var(--input-bg);
    font-family: inherit;
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--input-placeholder);
  }

  /* Labels */
  label {
    color: var(--foreground);
  }

  /* Select options */
  option {
    color: var(--input-text);
    background-color: var(--input-bg);
    font-family: inherit;
  }
}
